<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meal Planner Frontend</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="toolbar">
            <button class="toolbar-item" onclick="showSection('recipes')">Recipes</button>
            <button class="toolbar-item" onclick="showSection('ingredients')">Ingredients On Hand</button>
            <button class="toolbar-item" onclick="showSection('available-meals')">Available Meals</button>
        </div>

        <div id="recipes" class="section">
            <h1>Meal Aid</h1>
            <div class="input-container">
                <input type="text" id="recipe-name" class="input" placeholder="Enter recipe name">
                <input type="text" id="recipe-ingredients" class="input" placeholder="Required Ingredients (comma-separated)">
                <button class="add-button" id="add-recipe-button" onclick="addRecipe()">Add Recipe</button>
            </div>
            <div class="recipe-section">
                <h2>Available Recipes</h2>
                <div id="recipe-list"></div>
            </div>
        </div>

        <div id="ingredients" class="section" style="display:none;">
            <h1>Ingredients On Hand</h1>
            <div class="input-container">
                <input type="text" id="ingredient-name" class="input" placeholder="Enter ingredient name">
                <button class="add-button" onclick="addIngredient()">Add Ingredient</button>
            </div>
            <div class="recipe-section">
                <h2>Available Ingredients</h2>
                <div id="ingredient-list"></div>
            </div>
        </div>

        <div id="available-meals" class="section" style="display:none;">
            <h1>Available Meals</h1>
            <div class="recipe-section">
                <h2>Meals you can make</h2>
                <div id="available-meals-list"></div>
            </div>
        </div>
    </div>

    <script>
        // Function to show a specific section
        function showSection(sectionId) {
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById(sectionId).style.display = 'block';
        }

        // Function to handle adding a recipe
        async function addRecipe() {
            const recipeName = document.getElementById('recipe-name').value;
            const recipeIngredients = document.getElementById('recipe-ingredients').value;

            const response = await fetch('/api/add-recipe', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    recipe: recipeName,
                    ingredients: recipeIngredients
                })
            });

            const data = await response.json();
            console.log(data);
            // Update UI with the received data
        }

        // Function to handle adding an ingredient
        async function addIngredient() {
            const ingredientName = document.getElementById('ingredient-name').value;

            const response = await fetch('/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    name: ingredientName
                })
            });

            const data = await response.json();
            console.log(data);
            // Update UI with the received data
        }
    </script>
</body>
</html>
